function init(){webgl=new Webgl($(".three")),Reveal.initialize({transition:"linear",transitionSpeed:"fast",dependencies:[{src:"assets/lib/reveal.js/plugin/highlight/highlight.js",async:!0,callback:function(){hljs.initHighlightingOnLoad()}}]}),registerSlide("title"),registerSlide("experiment"),registerSlide("accident"),registerSlide("three"),registerSlide("engine"),registerSlide("math"),registerSlide("object"),registerSlide("mesh"),registerSlide("geometries"),registerSlide("materials"),registerSlide("lights"),registerSlide("postprocessing"),registerSlide("shaders"),registerSlide("way");var t=new dat.GUI,e=t.addFolder("Post Processing");e.add(webgl,"usePostprocessing");var i=t.addFolder("Lights"),s=i.addColor(webgl,"ambientColor");s.onChange(function(){webgl.ambientLight.color.setRGB(webgl.ambientColor[0]/255,webgl.ambientColor[1]/255,webgl.ambientColor[2]/255)}),t.close(),$(window).on("resize",resizeHandler),animate()}function resizeHandler(){webgl.resize()}function registerSlide(t){Reveal.addEventListener(t,onSlideEnter)}function onSlideEnter(t){currentSlide&&(currentSlide.destroy(),currentSlide=null);var e=t.type;webgl.goTo(e)}function animate(){requestAnimationFrame(animate),currentSlide&&currentSlide.update(),webgl.render()}var webgl,currentSlide;$(document).ready(init),$(document).on("mousemove",function(t){currentSlide&&currentSlide.onMouseMove(t.clientX,t.clientY)}),$(window).on("mousedown",function(){currentSlide&&currentSlide.onMouseDown()}),$(window).on("mouseup",function(){currentSlide&&currentSlide.onMouseUp()}),$(window).on("resize",function(){currentSlide&&currentSlide.resize(window.innerWidth,window.innerHeight)});var Webgl=function(){function t(t){this.time=0,this.ambientColor=[0,0,0],this.usePostprocessing=!0,this.scene=new THREE.Scene,this.scene.fog=new THREE.FogExp2(5593695,3e-4),this.camera=new THREE.PerspectiveCamera(50,window.innerWidth/window.innerHeight,1,1e4),this.camera.position.z=500,this.terrain=new Terrain,this.scene.add(this.terrain),this.renderer=new THREE.WebGLRenderer,this.renderer.setSize(window.innerWidth,window.innerHeight),this.renderer.setClearColor(5593695),this.accident=new Accident,this.scene.add(this.accident),this.accident.position.set(500,800,-2e3),this.cube=new Cube,this.scene.add(this.cube),this.cube.position.set(0,1e3,-2e3),this.box=new Box,this.scene.add(this.box),this.box.position.set(-400,800,-2e3),this.geometries=new Geometries,this.scene.add(this.geometries),this.geometries.position.set(-1350,800,-2e3),this.materials=new Materials,this.scene.add(this.materials),this.materials.position.set(-950,800,-3780),this.lights=new Lights,this.scene.add(this.lights),this.lights.position.set(-1e3,800,-4280),this.particles=new Particles,this.scene.add(this.particles),this.particles.position.set(0,800,-4e3),this.light=new THREE.PointLight(16777215,.6),this.scene.add(this.light),this.light.position.copy(this.cube.position),this.light.position.y-=800,this.blueLight=new THREE.PointLight(4173e3),this.scene.add(this.blueLight),this.blueLight.position.set(-1200,800,-4280),this.redLight=new THREE.PointLight(15418199),this.scene.add(this.redLight),this.redLight.position.set(-800,800,-4280),this.ambientLight=new THREE.AmbientLight(0),this.ambientLight.color.setRGB(this.ambientColor[0]/255,this.ambientColor[1]/255,this.ambientColor[2]/255),this.scene.add(this.ambientLight),this.bluePointLightHelper=new LightHelper(this.blueLight,5),this.scene.add(this.bluePointLightHelper),this.redPointLightHelper=new LightHelper(this.redLight,5),this.scene.add(this.redPointLightHelper),this.moveColoredLights(0),this.initPostProcessing(),this.tl=new TimelineMax,this.tl.from(this.terrain.rotation,2,{x:.4*Math.PI,ease:Expo.easeInOut},1),this.tl.addLabel("title",3),this.tl.to(this.camera.position,2,{z:-2e3,y:800,ease:Expo.easeInOut},3),this.tl.addLabel("experiment",5),this.tl.to(this.camera.rotation,1,{y:.5*-Math.PI,ease:Expo.easeInOut},5),this.tl.fromTo(this.accident.mesh.material,.5,{opacity:0},{opacity:1},5),this.tl.addLabel("accident",6),this.tl.to(this.accident.mesh.material,.5,{opacity:0},6.5),this.tl.set(this.cube.mesh,{visible:!0},6),this.tl.set(this.cube.meshFull,{visible:!1},6),this.tl.fromTo(this.cube.mesh.material,.5,{opacity:0},{opacity:1},6),this.tl.to(this.camera.rotation,1,{y:0,x:.5*Math.PI,ease:Expo.easeInOut},6),this.tl.addLabel("three",7),this.tl.set(this.cube.meshFull,{visible:!0},7.1),this.tl.set(this.cube.meshFull.position,{y:0},7.1),this.tl.to(this.cube.mesh.material,.5,{opacity:0},7.1),this.tl.set(this.cube.mesh,{visible:!1},7.5),this.tl.fromTo(this.cube.meshFull.material,.5,{opacity:0},{opacity:1},7.1),this.tl.addLabel("engine",8),this.tl.insert(this.cube.tl,8),this.tl.addLabel("math",9),this.tl.to(this.camera.rotation,1,{y:.5*Math.PI,x:0,ease:Expo.easeInOut},9),this.tl.to(this.cube.meshFull.material,.5,{opacity:0},9),this.tl.fromTo(this.box.mesh.material,.5,{opacity:0},{opacity:1},9),this.tl.fromTo(this.box.contentMesh.material,.5,{opacity:0},{opacity:1},9),this.tl.addLabel("object",10),this.tl.to(this.camera.position,1,{x:-1e3,ease:Expo.easeInOut},10),this.tl.addLabel("mesh",11),this.tl.insert(this.geometries.tl,11),this.tl.addLabel("geometries",12.3),this.tl.to(this.camera.rotation,1,{y:0,ease:Expo.easeInOut},12.3),this.tl.to(this.camera.position,1,{z:-3500,ease:Expo.easeInOut},12.3),this.tl.insert(this.materials.tl,12.9),this.tl.addLabel("materials",14.7),this.tl.to(this.camera.position,1,{z:-4e3,ease:Expo.easeInOut},14.7),this.tl.fromTo(this.lights.material,.5,{opacity:0},{opacity:1},15.2),this.tl.fromTo(this.blueLight,.5,{intensity:0},{intensity:1},15.2),this.tl.fromTo(this.redLight,.5,{intensity:0},{intensity:1},15.2),this.tl.fromTo(this.bluePointLightHelper.material,.5,{opacity:0},{opacity:1},15.2),this.tl.fromTo(this.redPointLightHelper.material,.5,{opacity:0},{opacity:1},15.2),this.tl.addLabel("lights",15.7),this.tl.fromTo(this.lights.material,.5,{reflectivity:0},{reflectivity:.5},15.7),this.tl.to(this.bluePointLightHelper.material,.5,{opacity:0},15.7),this.tl.to(this.redPointLightHelper.material,.5,{opacity:0},15.7),this.tl.addLabel("shaders",16.2),this.tl.to(this.camera.rotation,1,{y:.5*-Math.PI,ease:Expo.easeInOut},16.2),this.tl.to(this.camera.position,1,{x:0,ease:Expo.easeInOut},16.2),this.tl.fromTo(this.particles.position,.1,{y:-1e5},{y:800},16.2),this.tl.addLabel("way",17.2),this.tl.tweenTo("title"),t.append(this.renderer.domElement)}return t.prototype.constructor=t,t.prototype.initPostProcessing=function(){this.composer=new THREE.EffectComposer(this.renderer),this.composer.addPass(new THREE.RenderPass(this.scene,this.camera)),this.vignetteEffect=new THREE.ShaderPass(THREE.VignetteShader),this.composer.addPass(this.vignetteEffect),this.tiltShiftEffect=new THREE.ShaderPass(THREE.HorizontalTiltShiftShader),this.tiltShiftEffect.uniforms.r.value=.6,this.composer.addPass(this.tiltShiftEffect),this.bleachEffect=new THREE.ShaderPass(THREE.BleachBypassShader),this.composer.addPass(this.bleachEffect),this.bleachEffect.renderToScreen=!0},t.prototype.resize=function(){this.camera.aspect=window.innerWidth/window.innerHeight,this.camera.updateProjectionMatrix(),this.renderer.setSize(window.innerWidth,window.innerHeight),this.composer.setSize(window.innerWidth,window.innerHeight)},t.prototype.goTo=function(t){this.tl.tweenTo(t)},t.prototype.moveColoredLights=function(t){this.blueLight.position.x=-1e3+150*Math.cos(2*t),this.blueLight.position.z=-4280+75*Math.sin(2*t),this.blueLight.position.y=800+75*Math.sin(2*t),this.redLight.position.x=-1e3+150*Math.sin(2*t),this.redLight.position.z=-4280+75*Math.cos(2*t),this.redLight.position.y=800+75*Math.sin(2*t)},t.prototype.render=function(){this.time+=.01;var t=this.tl.currentLabel();("accident"===t||"experiment"===t)&&this.accident.update(),("accident"===t||"three"===t||"engine"===t||"math"===t)&&this.cube.update(),("math"===t||"object"===t)&&this.box.update(this.time),("mesh"===t||"geometries"===t)&&this.geometries.update(),("materials"===t||"geometries"===t)&&this.materials.update(),("lights"===t||"materials"===t||"shaders"===t)&&this.moveColoredLights(this.time),("shaders"===t||"way"===t)&&this.particles.update(),this.usePostprocessing?this.composer.render():this.renderer.render(this.scene,this.camera)},t}(),Slide=function(){function t(t){this.$el=t,this.timelines=[],this.events=[],this.mouseX=0,this.mouseY=0}return t.prototype.constructor=t,t.prototype.beforeDestroy=function(){},t.prototype.onMouseMove=function(t,e){this.mouseX=t,this.mouseY=e},t.prototype.onMouseDown=function(){this.mousePressed=!0},t.prototype.onMouseUp=function(){this.mousePressed=!1},t.prototype.update=function(){},t.prototype.resize=function(){},t.prototype.addTimeline=function(t){this.timelines.push(t)},t.prototype.addEvent=function(t,e,i){this.$el.find(t).off(e).on(e,i),this.events.push(t)},t.prototype.removeEvent=function(t,e,i){this.events.indexOf(t)<0||(this.$el.find(t).off(e,i),this.events.splice(this.events.indexOf(t),1))},t.prototype.destroy=function(){this.beforeDestroy();for(var t=this.timelines.length-1;t>=0;t--)this.timelines[t].kill();for(var t=this.events.length-1;t>=0;t--)$(this.events[t]).off("click mouseover mouseout mousemove mouseenter mouseleave")},t}(),Accident=function(){function t(){THREE.Object3D.call(this);var t=new THREE.SphereGeometry(50),e=new THREE.MeshBasicMaterial({color:4173e3,wireframe:!0,transparent:!0});this.mesh=new THREE.Mesh(t,e),this.add(this.mesh),this.update()}return t.prototype=new THREE.Object3D,t.prototype.constructor=t,t.prototype.update=function(){for(var t,e=0,i=this.mesh.geometry.vertices.length;i>e;e++)t=this.mesh.geometry.vertices[e],t.x+=20*Math.random()-10,t.y+=20*Math.random()-10,t.z+=20*Math.random()-10;this.mesh.geometry.verticesNeedUpdate=!0},t}(),Box=function(){function t(){THREE.Object3D.call(this),this.container=new THREE.Object3D,this.add(this.container);var t=new THREE.BoxGeometry(100,100,100),e=new THREE.MeshBasicMaterial({color:4173e3,wireframe:!0,transparent:!0});this.mesh=new THREE.Mesh(t,e),this.container.add(this.mesh),t=new THREE.SphereGeometry(20),e=new THREE.MeshBasicMaterial({color:15418199,wireframe:!0,transparent:!0}),this.contentMesh=new THREE.Mesh(t,e),this.container.add(this.contentMesh)}return t.prototype=new THREE.Object3D,t.prototype.constructor=t,t.prototype.update=function(t){this.container.rotation.x+=.01,this.container.rotation.y+=.01,this.container.position.z=150*Math.cos(t),this.container.position.y=150*Math.sin(t),this.mesh.scale.x=Math.cos(t)+1+.4,this.mesh.scale.y=Math.cos(.1*t)+1+.4,this.contentMesh.position.y=30*Math.cos(10*t)},t}(),Cube=function(){function t(){THREE.Object3D.call(this);var t=new THREE.BoxGeometry(100,100,100,10,10,10),e=new THREE.MeshBasicMaterial({color:15418199,wireframe:!0,transparent:!0});this.mesh=new THREE.Mesh(t,e),this.add(this.mesh),e=new THREE.MeshLambertMaterial({color:15418199,shading:THREE.FlatShading,transparent:!0}),this.meshFull=new THREE.Mesh(t,e),this.add(this.meshFull),this.meshFull.position.y=-1e4,this.tl=new TimelineMax;for(var i,s=0,o=this.meshFull.geometry.vertices.length;o>s;s++)i=this.meshFull.geometry.vertices[s],this.tl.to(i,Math.random(),{x:i.x+200*Math.random()-100,y:i.y+200*Math.random()-100,z:i.z+200*Math.random()-100,ease:Expo.easeOut},.001*s)}return t.prototype=new THREE.Object3D,t.prototype.constructor=t,t.prototype.update=function(){this.rotation.x+=.01,this.rotation.y+=.01,this.meshFull.geometry.verticesNeedUpdate=!0},t}(),Geometries=function(){function t(){THREE.Object3D.call(this);var t=new THREE.BoxGeometry(100,100,100),e=new THREE.MeshBasicMaterial({color:4173e3,wireframe:!0,transparent:!0});this.box=new THREE.Mesh(t,e),this.add(this.box),this.box.position.set(0,0,200),t=new THREE.SphereGeometry(70),e=new THREE.MeshBasicMaterial({color:15418199,wireframe:!0,transparent:!0}),this.sphere=new THREE.Mesh(t,e),this.add(this.sphere);var i=new THREE.JSONLoader;i.load("assets/models/Suzanne.js",this.onSuzanneLoaded.bind(this)),this.tl=new TimelineMax,this.tl.fromTo(this.box.material,1,{opacity:0},{opacity:.45},0),this.tl.fromTo(this.box.position,1,{y:-200},{y:0,ease:Expo.easeOut},0),this.tl.fromTo(this.sphere.material,1,{opacity:0},{opacity:.45},.1),this.tl.fromTo(this.sphere.position,1,{y:-200},{y:0,ease:Expo.easeOut},.1)}return t.prototype=new THREE.Object3D,t.prototype.constructor=t,t.prototype.onSuzanneLoaded=function(t){var e=new THREE.MeshBasicMaterial({color:15444547,wireframe:!0,transparent:!0});this.model=new THREE.Mesh(t,e),this.add(this.model),this.model.scale.multiplyScalar(70),this.model.rotation.z=.5*-Math.PI,this.model.rotation.x=.5*Math.PI,this.model.position.set(0,0,-200),this.tl.fromTo(this.model.material,1,{opacity:0},{opacity:.45},.2),this.tl.fromTo(this.model.position,1,{y:-200},{y:0,ease:Expo.easeOut},.2)},t.prototype.update=function(){this.box.rotation.x+=.01,this.box.rotation.y+=.01,this.sphere.rotation.x+=.01,this.model&&(this.model.rotation.x-=.01,this.model.rotation.y-=.01)},t}(),Lights=function(){function t(){THREE.Object3D.call(this);var t=new THREE.JSONLoader;t.load("assets/models/suzanne/suzanneHi.js",this.onSuzanneLoaded.bind(this));var e="assets/textures/skybox/",i=".jpg",s=[e+"px"+i,e+"nx"+i,e+"py"+i,e+"ny"+i,e+"pz"+i,e+"nz"+i],o=THREE.ImageUtils.loadTextureCube(s);o.format=THREE.RGBFormat,this.material=new THREE.MeshPhongMaterial({color:5592405,metal:!0,combine:THREE.MixOperation,reflectivity:0,transparent:!0,envMap:o,shading:THREE.SmoothShading})}return t.prototype=new THREE.Object3D,t.prototype.constructor=t,t.prototype.onSuzanneLoaded=function(t){this.mesh=new THREE.Mesh(t,this.material),this.add(this.mesh),this.mesh.scale.multiplyScalar(.75),this.mesh.rotation.y=Math.PI},t}(),Materials=function(){function t(){THREE.Object3D.call(this);var t=new THREE.SphereGeometry(50,28,15),e=new THREE.MeshBasicMaterial({color:4173e3,transparent:!0}),i=new THREE.MeshLambertMaterial({color:4173e3,transparent:!0}),s=new THREE.MeshPhongMaterial({color:4173e3,shininess:50,transparent:!0}),o=new THREE.ShaderMaterial({fragmentShader:ShaderMaterialShader.fragmentShader,vertexShader:ShaderMaterialShader.vertexShader,uniforms:ShaderMaterialShader.uniforms,transparent:!0});this.balls=[],this.balls.push(new THREE.Mesh(t,e)),this.balls.push(new THREE.Mesh(t,o)),this.balls.push(new THREE.Mesh(t,i)),this.balls.push(new THREE.Mesh(t,s)),this.balls[0].position.x-=175,this.balls[1].position.x-=175,this.balls[2].position.x+=75,this.balls[3].position.x+=75,this.balls[0].position.y+=55,this.balls[2].position.y+=55,this.balls[1].position.y-=55,this.balls[3].position.y-=55,this.add(this.balls[0]),this.add(this.balls[1]),this.add(this.balls[2]),this.add(this.balls[3]),this.tl=new TimelineMax,this.tl.fromTo(this.balls[0].material,1,{opacity:0},{opacity:1},0),this.tl.fromTo(this.balls[0].position,1,{x:-375},{x:-175,ease:Expo.easeOut},0),this.tl.fromTo(this.balls[1].material.uniforms.opacity,1,{value:0},{value:1},.1),this.tl.fromTo(this.balls[1].position,1,{x:-375},{x:-175,ease:Expo.easeOut},.1),this.tl.fromTo(this.balls[2].material,1,{opacity:0},{opacity:1},.2),this.tl.fromTo(this.balls[2].position,1,{x:275},{x:75,ease:Expo.easeOut},.2),this.tl.fromTo(this.balls[3].material,1,{opacity:0},{opacity:1},.3),this.tl.fromTo(this.balls[3].position,1,{x:275},{x:75,ease:Expo.easeOut},.3)}return t.prototype=new THREE.Object3D,t.prototype.constructor=t,t.prototype.update=function(){this.balls[1].rotation.x+=.01,this.balls[1].rotation.y+=.01},t}(),Particles=function(){function t(){THREE.Object3D.call(this);var t,e=new THREE.Geometry;for(i=0;5e4>i;i++)t=new THREE.Vector3,t.x=500*Math.random()-250,t.y=500*Math.random()-250,t.z=500*Math.random()-250,e.vertices.push(t);var s=new THREE.PointCloudMaterial({size:.5,color:16777215});this.particles=new THREE.PointCloud(e,s),this.particles2=new THREE.PointCloud(e,s),this.add(this.particles),this.add(this.particles2)}return t.prototype=new THREE.Object3D,t.prototype.constructor=t,t.prototype.update=function(){this.particles.rotation.y+=.001,this.particles2.rotation.y+=5e-4},t}(),Terrain=function(){function t(){THREE.Object3D.call(this),this.worldWidth=this.worldDepth=64,this.data=this.generateHeight(this.worldWidth,this.worldDepth);for(var t=new THREE.PlaneGeometry(16e3,8e3,this.worldWidth-1,this.worldDepth-1),e=0,i=t.vertices.length;i>e;e++)t.vertices[e].z=40*this.data[e];var s=new THREE.MeshBasicMaterial({color:7699071,wireframe:!0,side:THREE.DoubleSide});this.mesh=new THREE.Mesh(t,s),this.mesh.rotation.x=.5*-Math.PI,this.mesh.position.y=-1700,this.mesh.position.z=-3500,this.add(this.mesh)}return t.prototype=new THREE.Object3D,t.prototype.constructor=t,t.prototype.generateHeight=function(t,e){for(var i,s,o=t*e,n=new Uint8Array(o),r=new ImprovedNoise,a=1,h=4,l=19.9,c=0;h>c;c++){for(var d=0;o>d;d++)i=d%t,s=~~(d/t),n[d]+=Math.abs(r.noise(i/a,s/a,l)*a);a*=5}return n},t}(),ShaderMaterialShader={uniforms:{opacity:{type:"f",value:1}},vertexShader:["vec3 mod289(vec3 x) {","return x - floor(x * (1.0 / 289.0)) * 289.0;","}","vec4 mod289(vec4 x) {","return x - floor(x * (1.0 / 289.0)) * 289.0;","}","vec4 permute(vec4 x) {","return mod289(((x*34.0)+1.0)*x);","}","vec4 taylorInvSqrt(vec4 r) {","return 1.79284291400159 - 0.85373472095314 * r;","}","vec3 fade(vec3 t) {","return t*t*t*(t*(t*6.0-15.0)+10.0);","}","float cnoise(vec3 P) {","vec3 Pi0 = floor(P); // Integer part for indexing","vec3 Pi1 = Pi0 + vec3(1.0); // Integer part + 1","Pi0 = mod289(Pi0);","Pi1 = mod289(Pi1);","vec3 Pf0 = fract(P); // Fractional part for interpolation","vec3 Pf1 = Pf0 - vec3(1.0); // Fractional part - 1.0","vec4 ix = vec4(Pi0.x, Pi1.x, Pi0.x, Pi1.x);","vec4 iy = vec4(Pi0.yy, Pi1.yy);","vec4 iz0 = Pi0.zzzz;","vec4 iz1 = Pi1.zzzz;","vec4 ixy = permute(permute(ix) + iy);","vec4 ixy0 = permute(ixy + iz0);","vec4 ixy1 = permute(ixy + iz1);","vec4 gx0 = ixy0 * (1.0 / 7.0);","vec4 gy0 = fract(floor(gx0) * (1.0 / 7.0)) - 0.5;","gx0 = fract(gx0);","vec4 gz0 = vec4(0.5) - abs(gx0) - abs(gy0);","vec4 sz0 = step(gz0, vec4(0.0));","gx0 -= sz0 * (step(0.0, gx0) - 0.5);","gy0 -= sz0 * (step(0.0, gy0) - 0.5);","vec4 gx1 = ixy1 * (1.0 / 7.0);","vec4 gy1 = fract(floor(gx1) * (1.0 / 7.0)) - 0.5;","gx1 = fract(gx1);","vec4 gz1 = vec4(0.5) - abs(gx1) - abs(gy1);","vec4 sz1 = step(gz1, vec4(0.0));","gx1 -= sz1 * (step(0.0, gx1) - 0.5);","gy1 -= sz1 * (step(0.0, gy1) - 0.5);","vec3 g000 = vec3(gx0.x,gy0.x,gz0.x);","vec3 g100 = vec3(gx0.y,gy0.y,gz0.y);","vec3 g010 = vec3(gx0.z,gy0.z,gz0.z);","vec3 g110 = vec3(gx0.w,gy0.w,gz0.w);","vec3 g001 = vec3(gx1.x,gy1.x,gz1.x);","vec3 g101 = vec3(gx1.y,gy1.y,gz1.y);","vec3 g011 = vec3(gx1.z,gy1.z,gz1.z);","vec3 g111 = vec3(gx1.w,gy1.w,gz1.w);","vec4 norm0 = taylorInvSqrt(vec4(dot(g000, g000), dot(g010, g010), dot(g100, g100), dot(g110, g110)));","g000 *= norm0.x;","g010 *= norm0.y;","g100 *= norm0.z;","g110 *= norm0.w;","vec4 norm1 = taylorInvSqrt(vec4(dot(g001, g001), dot(g011, g011), dot(g101, g101), dot(g111, g111)));","g001 *= norm1.x;","g011 *= norm1.y;","g101 *= norm1.z;","g111 *= norm1.w;","float n000 = dot(g000, Pf0);","float n100 = dot(g100, vec3(Pf1.x, Pf0.yz));","float n010 = dot(g010, vec3(Pf0.x, Pf1.y, Pf0.z));","float n110 = dot(g110, vec3(Pf1.xy, Pf0.z));","float n001 = dot(g001, vec3(Pf0.xy, Pf1.z));","float n101 = dot(g101, vec3(Pf1.x, Pf0.y, Pf1.z));","float n011 = dot(g011, vec3(Pf0.x, Pf1.yz));","float n111 = dot(g111, Pf1);","vec3 fade_xyz = fade(Pf0);","vec4 n_z = mix(vec4(n000, n100, n010, n110), vec4(n001, n101, n011, n111), fade_xyz.z);","vec2 n_yz = mix(n_z.xy, n_z.zw, fade_xyz.y);","float n_xyz = mix(n_yz.x, n_yz.y, fade_xyz.x); ","return 2.2 * n_xyz;","}","float pnoise(vec3 P, vec3 rep) {","vec3 Pi0 = mod(floor(P), rep); // Integer part, modulo period","vec3 Pi1 = mod(Pi0 + vec3(1.0), rep); // Integer part + 1, mod period","Pi0 = mod289(Pi0);","Pi1 = mod289(Pi1);","vec3 Pf0 = fract(P); // Fractional part for interpolation","vec3 Pf1 = Pf0 - vec3(1.0); // Fractional part - 1.0","vec4 ix = vec4(Pi0.x, Pi1.x, Pi0.x, Pi1.x);","vec4 iy = vec4(Pi0.yy, Pi1.yy);","vec4 iz0 = Pi0.zzzz;","vec4 iz1 = Pi1.zzzz;","vec4 ixy = permute(permute(ix) + iy);","vec4 ixy0 = permute(ixy + iz0);","vec4 ixy1 = permute(ixy + iz1);","vec4 gx0 = ixy0 * (1.0 / 7.0);","vec4 gy0 = fract(floor(gx0) * (1.0 / 7.0)) - 0.5;","gx0 = fract(gx0);","vec4 gz0 = vec4(0.5) - abs(gx0) - abs(gy0);","vec4 sz0 = step(gz0, vec4(0.0));","gx0 -= sz0 * (step(0.0, gx0) - 0.5);","gy0 -= sz0 * (step(0.0, gy0) - 0.5);","vec4 gx1 = ixy1 * (1.0 / 7.0);","vec4 gy1 = fract(floor(gx1) * (1.0 / 7.0)) - 0.5;","gx1 = fract(gx1);","vec4 gz1 = vec4(0.5) - abs(gx1) - abs(gy1);","vec4 sz1 = step(gz1, vec4(0.0));","gx1 -= sz1 * (step(0.0, gx1) - 0.5);","gy1 -= sz1 * (step(0.0, gy1) - 0.5);","vec3 g000 = vec3(gx0.x,gy0.x,gz0.x);","vec3 g100 = vec3(gx0.y,gy0.y,gz0.y);","vec3 g010 = vec3(gx0.z,gy0.z,gz0.z);","vec3 g110 = vec3(gx0.w,gy0.w,gz0.w);","vec3 g001 = vec3(gx1.x,gy1.x,gz1.x);","vec3 g101 = vec3(gx1.y,gy1.y,gz1.y);","vec3 g011 = vec3(gx1.z,gy1.z,gz1.z);","vec3 g111 = vec3(gx1.w,gy1.w,gz1.w);","vec4 norm0 = taylorInvSqrt(vec4(dot(g000, g000), dot(g010, g010), dot(g100, g100), dot(g110, g110)));","g000 *= norm0.x;","g010 *= norm0.y;","g100 *= norm0.z;","g110 *= norm0.w;","vec4 norm1 = taylorInvSqrt(vec4(dot(g001, g001), dot(g011, g011), dot(g101, g101), dot(g111, g111)));","g001 *= norm1.x;","g011 *= norm1.y;","g101 *= norm1.z;","g111 *= norm1.w;","float n000 = dot(g000, Pf0);","float n100 = dot(g100, vec3(Pf1.x, Pf0.yz));","float n010 = dot(g010, vec3(Pf0.x, Pf1.y, Pf0.z));","float n110 = dot(g110, vec3(Pf1.xy, Pf0.z));","float n001 = dot(g001, vec3(Pf0.xy, Pf1.z));","float n101 = dot(g101, vec3(Pf1.x, Pf0.y, Pf1.z));","float n011 = dot(g011, vec3(Pf0.x, Pf1.yz));","float n111 = dot(g111, Pf1);","vec3 fade_xyz = fade(Pf0);","vec4 n_z = mix(vec4(n000, n100, n010, n110), vec4(n001, n101, n011, n111), fade_xyz.z);","vec2 n_yz = mix(n_z.xy, n_z.zw, fade_xyz.y);","float n_xyz = mix(n_yz.x, n_yz.y, fade_xyz.x); ","return 2.2 * n_xyz;","}","varying vec2 vUv;","varying float noise;","float turbulence( vec3 p ) {","float w = 100.0;","float t = -.5;","for (float f = 1.0 ; f <= 10.0 ; f++ ){","float power = pow( 2.0, f );","t += abs( pnoise( vec3( power * p ), vec3( 10.0, 10.0, 10.0 ) ) / power );","}","return t;","}","void main() {","vUv = uv;","noise = 14.0 *  -.10 * turbulence( .5 * normal );","float b = 5.0 * pnoise( 0.05 * position, vec3( 100.0 ) );","float displacement = - 40. * noise + b;","vec3 newPosition = position + normal * displacement;","gl_Position = projectionMatrix * modelViewMatrix * vec4( newPosition, 1.0 );","}"].join("\n"),fragmentShader:["uniform float opacity;","varying vec2 vUv;","varying float noise;","void main() {","vec3 color = vec3(0.247058824, 0.674509804, 0.784313725 ) * ((1. - 2. *noise) + 0.2);","gl_FragColor = vec4( color.rgb, opacity );","}"].join("\n")},ImprovedNoise=function(){function t(t){return t*t*t*(t*(6*t-15)+10)}function e(t,e,i){return e+t*(i-e)}function i(t,e,i,s){var o=15&t,n=8>o?e:i,r=4>o?i:12==o||14==o?e:s;return(0==(1&o)?n:-n)+(0==(2&o)?r:-r)}for(var s=[151,160,137,91,90,15,131,13,201,95,96,53,194,233,7,225,140,36,103,30,69,142,8,99,37,240,21,10,23,190,6,148,247,120,234,75,0,26,197,62,94,252,219,203,117,35,11,32,57,177,33,88,237,149,56,87,174,20,125,136,171,168,68,175,74,165,71,134,139,48,27,166,77,146,158,231,83,111,229,122,60,211,133,230,220,105,92,41,55,46,245,40,244,102,143,54,65,25,63,161,1,216,80,73,209,76,132,187,208,89,18,169,200,196,135,130,116,188,159,86,164,100,109,198,173,186,3,64,52,217,226,250,124,123,5,202,38,147,118,126,255,82,85,212,207,206,59,227,47,16,58,17,182,189,28,42,223,183,170,213,119,248,152,2,44,154,163,70,221,153,101,155,167,43,172,9,129,22,39,253,19,98,108,110,79,113,224,232,178,185,112,104,218,246,97,228,251,34,242,193,238,210,144,12,191,179,162,241,81,51,145,235,249,14,239,107,49,192,214,31,181,199,106,157,184,84,204,176,115,121,50,45,127,4,150,254,138,236,205,93,222,114,67,29,24,72,243,141,128,195,78,66,215,61,156,180],o=0;256>o;o++)s[256+o]=s[o];return{noise:function(o,n,r){var a=~~o,h=~~n,l=~~r,c=255&a,d=255&h,p=255&l;o-=a,n-=h,r-=l;var g=o-1,m=n-1,y=r-1,u=t(o),f=t(n),v=t(r),x=s[c]+d,E=s[x]+p,w=s[x+1]+p,b=s[c+1]+d,z=s[b]+p,P=s[b+1]+p;return e(v,e(f,e(u,i(s[E],o,n,r),i(s[z],g,n,r)),e(u,i(s[w],o,m,r),i(s[P],g,m,r))),e(f,e(u,i(s[E+1],o,n,y),i(s[z+1],g,n,r-1)),e(u,i(s[w+1],o,m,y),i(s[P+1],g,m,y))))}}},LightHelper=function(){function t(t,e){this.light=t,this.light.updateMatrixWorld();var i=new THREE.SphereGeometry(e,4,2),s=new THREE.MeshBasicMaterial({wireframe:!1,transparent:!0});s.color.copy(this.light.color),THREE.Mesh.call(this,i,s),this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1}return t.prototype=Object.create(THREE.Mesh.prototype),t.prototype.dispose=function(){this.geometry.dispose(),this.material.dispose()},t.prototype.update=function(){this.material.color.copy(this.light.color)},t}();
//# sourceMappingURL=app.min.js.map